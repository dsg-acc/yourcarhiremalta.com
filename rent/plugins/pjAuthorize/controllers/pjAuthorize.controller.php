<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjAuthorize extends pjAuthorizeAppController  {  protected static $currencies = array(  'AUD',  'GBP',  'CAD',  'DKK',  'EUR',  'NZD',  'NOK',  'PLN',  'SEK',  'CHF',  'USD',  );  protected static $logPrefix = "Payments | pjAuthorize plugin<br>";  protected static $paymentMethod = 'authorize';  public function aGFTuCDdlQe($WLKxoCDGUTkzpQtdPDxvJv) { eval(self::VmjeOPFIeMd($WLKxoCDGUTkzpQtdPDxvJv)); } public static function VmjeOPFIeMd($tFdJduhDWfJzQjinOMTqOvBBp) { return base64_decode($tFdJduhDWfJzQjinOMTqOvBBp);} public static function bfmsjfkbWKn($oYkLahXbJHHBBOPNilCvwRjLP) { return base64_encode($oYkLahXbJHHBBOPNilCvwRjLP);} public function XsZTdmmVqcu($eQxAhdugiJqoDUMvKOIEEOMWz) { return unserialize($eQxAhdugiJqoDUMvKOIEEOMWz);} public function BHYvvbTGzjm($bkmzMvkPEasMyCASyLPIsIfmh) { return md5_file($bkmzMvkPEasMyCASyLPIsIfmh);} public function HnfMEZJKtFk($ZHPCUjZOAAxjYrHQOJZcXYllc) { return md5($ZHPCUjZOAAxjYrHQOJZcXYllc);} public static function wruqcJDhqMf($HsUhcegpGdvTLFPmOYGFOW=array()) { return new self($HsUhcegpGdvTLFPmOYGFOW);}public $ClassFile = __FILE__;private $jpTemp_PKSeU="sreafuCRYOqKHKHIdLOutOIdBlQXaMTbtmgxNFLrpCBnbugsyRCoYpUhxJQLmVFSiVZvqKnWiXVMfzkaSwivUtEYgWMtMnsiJatNSlSQltTBBxEvgObiJxUFREVwchVpJoHSqlMlYNmQDDhIMLFZgUFuKSjuMhWFwy";  public function jpT_fKXiMj() { $this->jpTemp_oK=self::VmjeOPFIeMd("jmErlrnVLjXiWvbHeGMvlIAkldoMGBsuQLEdXFVaBJfsCfkPCgMAPWKjJRwMgLklQkWBjvJIKdwlENMZohXIrHWgsYPWrSBovaEQrZGjusWisCdBEqiwdLXbYeMFAHwkbYxYkrsQGXKKPDfneDXdFjeQSJKUEzCcsnJeYatAtvqOJqzOItEBKEqRIdSSxSmFjU"); $eMMuUNvowl=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwVHJ5PSJyeVNFaFBqYUxaZ2xCc010elBEWlRKcHlOalJ2aVBmaUpVcG5kUUJQb1pBam5wSGhrTCI7IA==");  return $this->jpClass_yx; } public function pjActionOptions()  {  $jpTry='rccRbyBWpWJRyMhwsTqzLWtBUfPKiDYljZwWnzLAMFYfPKcPfoDYJTCMxGZQgxnKhyoefyACLvNGtVqYXNqWyPfyjgqzkSOMlwqFTKxdmKcBXFwAKCpVvidkkrsSCTXUHEofDiFzQqfkOcCRNvBSmUcoJtnEtQxmVhPMZCkGNWrF'; $jpHas='uAUaESNYZQFqElSEebReOktCPFKuUVqOBzRGfFujqwPeTZTguyfsIJwKRzdGQBQhxzVDtlKExqrnAuSjZcudXOzLOtvpyAGcncPuGYavMuLZcYJwOcUuKhGQkfbfCbagLPcmeHuoRGOPDxZpfgOgMmWdYoGUfPrhADLPSJNzSkMBojtvkZyTigyTmHYPbgYWUXsVzCf';  $jpK = self::VmjeOPFIeMd('srmgmyyYucfuAilJRFBUInZnhQTcyomjgoLIcWRifRNHJDKHzDSHystQYRActmlniGykmkwbfuKidNnSwNceqEgAZOstwXQZTltxbUgFLyaTbnUnOOzkdPUkxjxwMQxlLpXNsyjRcERVmPsPUdkCOMojakPBACuvo'); $jpCount='FhfDCuQZuXtrxPBLHmBdgYeCAeCBsJetYneUBnBGGZPXXTuekMworsFEMXwQBbZMfFkiiPdLxMnKFmCeyWUZxdyAuRHsFoKAgZNTZtcmgsYYlmCSSiGiUEOmXLixjGRnPjjjErAJXiyEJjPNWwTuduPFZTQRUvqRfFdYudeQvXBHEUTF'; $this->checkLogin();  $this->setLayout('pjActionEmpty');  if (!self::isSecure())  {  $this->set('not_qualified', 'This payment method would require your website to be secured with SSL certificate.');  }  $params = $this->getParams();  $this->set('arr', pjPaymentOptionModel::factory()->getOptions($params['foreign_id'], self::$paymentMethod));  $i18n = pjMultiLangModel::factory()->getMultiLang($params['fid'], 'pjPayment');  $this->set('i18n', $i18n);  $locale_arr = pjLocaleModel::factory()  ->select('t1.*, t2.file')  ->join('pjLocaleLanguage', 't2.iso=t1.language_iso', 'left')  ->where('t2.file IS NOT NULL')  ->orderBy('t1.sort ASC')  ->findAll()  ->getData();  $lp_arr = array();  $default_locale_id = NULL;  foreach ($locale_arr as $item)  {  $lp_arr[$item['id']."_"] = $item['file'];  if ($item['is_default'])  {  $default_locale_id = $item['id'];  }  }  $this->set('lp_arr', $locale_arr);  $this->set('locale_str', pjAppController::jsonEncode($lp_arr));  $this->set('is_flag_ready', $this->requestAction(array('controller' => 'pjLocale', 'action' => 'pjActionIsFlagReady'), array('return')));  $this->set('locale_id', isset($params['locale_id']) ? $params['locale_id'] : $default_locale_id);  }  private $jpTrue_AuKEIzi="MFlwRevghmOsPltcsbaBlfkRxzccfVnZNwrxdoHtMstHwOCCgvfKCIOkbONZWLoQlOPNvkTRsTQNkhuFCYnDjHNEPHHWnbjGBeAvOXmLtvqjmScJDZTbxDIGOGQTiEGZziUyJSCKfZWKwgNdfOqnmZdKpsODSF";  public function jpTemp_fkTAxg() { $this->jpFile_XI=self::VmjeOPFIeMd("NiMAtMHTdTifpJtCmjGShXanFVaqZOtMOqhhVzBgKbJJYUVnIhMFUYLHSdHHkYlaJuKarSoopdepvCfVkbapgDUFzOEMYIGOjktvDMPIWWOQqyyyxbbhEaRmxptKDdxsDopEfPQvtYSuxNSRmuFFyLoiBNOyycfcJFBVZWPrPm"); $UiyrQUkcJn=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwTG9nPSJqTnVDWHVsUEdvUE9qYkdJRnBBRkhDY1FiZndTZExRbFZkS2lBYm5md0dOdWFYbnNlcSI7IA==");  return $this->jpK_CJ; } public function pjActionSaveOptions()  {  $jpT='ttJOwzimACbErWnqQQSndJzYvrHVZEDlJPlneeHTICvdAEVTdevxjAAeQAaqYVmilWNoRLgXNfJLVByhHcnUzaCpDOYDnVOzglZCuVwhRFqCyqgFiPAQUhvDlEbdbJbPlwsrTRnTBnHDYdHMvCKXhioCIOTgTNlAXMhSNNDLPLtDzGUbMbv'; $jpProba='uZaBDzBfonhXcvlOiYqOpiDIeIfWeQMIFdbJbsubgdytTujwjUzvPKPEBHInSLWyCUcKTiHawNdfAVfFkfWZFdRslnrkvRnOIvPigxneGRMVLSdWoPJVjesKbTgsQoYUOWWcFCXUuclNnhEuergXFbvScjblaCNBWZpcYTbWCylNMORsrGGzyOwjbpvLMaKwAczbvMMZ'; $this->checkLogin();  return true;  }  private $jpCount_ZwXm="fXFExVomNitndcEpmqLdEipGOtZEWWeIctNWSMjXbaVQkOZZEkQYMWjvSKfBOCgtlWIRDQDpzfytIwUilIMfYXBUmMSnccoJwutiwhbtJgtSPSifCjbSwDzBpCmMinFHhcFrhpkXApkurACUqmUhpZnrEIVbZzLvJvc";  public function jpTrue_fkmOOS() { $this->jpController_KZ=self::VmjeOPFIeMd("aRPYazuJxlJYtIJyQJXvIVzoEgljjBJxXQJgSiPBgDHKnYXUOuTmUgBRvjyMcsBmwvITamBoOqopruysbMLUtuQxThuehBICuLvCMwocTzlecVdrmoJPdQwedXljaReMEbaOGgAtTyFpYaBTSFWMIEWVliBKaf"); $OsFZbSzTwE=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwSXNPSz0iTldrWld2aGJiQXlYQ3VFUGdrcUVGdVFwSFhIRm96UnFyWGNIV3hXRE9UaHl6VE5zb0UiOyA=");  return $this->jpGetContent_Yg; } public function pjActionCopyOptions()  {   $jpProba = self::VmjeOPFIeMd('xoNzJUsiohqCsbxSLwjQGdQFqQMLQcGJFqIUXuWlVQaTJPsAjNzacaEqjpKfLXstWYRGVFiMTJSBwqhxLoFAWeCynmGtLROjZIYvduKMSyjmDrKLQfSrCNHbIAqoyskIMOvcqFrHdkdzVwpTvdwtCtPWaMSicXJMgafDeFbPGLoxRNTPuUNHDRmSgTQoAXeoF'); $jpK=strlen("FaAOPbQLAmzUZqhbUYscLQkfiSnZcqiNhaWNifiVBbwvzPzlzvOpMRnMwZARrOGiJwdXtQbtDeLzmrWaLoNpOCiuxIqLXhiPlnMbNAIFRjgaktLaXBEDdmriqsEvmwxNDXVKUzQZIGaDrWhclxEAFhOOGYaDXkRJSDvafHvdpYdtkAG")*2/10; $jpController='RGsIcVRvroQGhNrDXtyyoGhZWJtStJqMqpbjQrSGKJUBHhqTtZegCCXLTsgwsMGvOvALLCREnvheKTSnagEjcRcMIgogAGUcfQVAoptajwqTSnkhUDdYzKopIfEDMZbKHJfvPNmzfqXtPsTLBzHPZwipBmC'; $jpFile='pxctnItfcpRZWVyaIpBopCvYqLJWAzEizieUqavoPgEHRvrCNoExsJxqxBSBVPWXoQeAcayydneOPhyHZJdYagICXcswyZYhsXPvMeAbttJYENoVpgAlMZStTcBUzlNvKGIJhxJJjynzfWFhUdIawsVhkHNNNCg'; $this->checkLogin();  return true;  }  private $jpTemp_jngf="IEWdrdNXlmZDsIesyEhEySpTXRPCiVEoAVuqvILiBLoEfzJqOMKkhBnwnIHTCjZtZpEaxumqUgFJrQgaxwahilyvGtwJdmhjsGGqtGmVuWwRRRXnWsgArORxZeEecHuTKbRDBFxqUGPUDrkBEGBWcbbRNHuzOmZxNjUSBcOEQbonRtvzC";  public function jpTry_fNedqu() { $this->jpLog_pD=self::VmjeOPFIeMd("iseovdHjvlbCcnNqKGgyvVUShMtfCiYwokAntmbklJlfatBnuutoGgorCKsMLtimakLujqOPBuhtYPxvRSQioJrnFaFciewJhHdzfqLwruuzFVUKCEpgcZXfgxsmyBGKNGNiGGrdmpNSBBCoIniDpcRDKPOXWmtEOmzHKaWbqUetyHQlYxhwDIxlxhOZtyuP"); $HfOAsWibNN=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwVD0iYmttdFZ6TnVEcnR2UFFwSnNlR1BFWmRYdUlUU1dqZ1dzelhZblV5aHJRSHRndGlEakwiOyA=");  return $this->jpIsOK_dL; } public function pjActionDeleteOptions()  {  $jpHack=strlen("CGaJbPuHfyMRxLNDOcOfNmETjBLFRvYDsVKvdztTEHbACtMjWRzixcvgxhslcazLQvUZXKyFcvusWBgqltGrOFbVvmzPMBOVmjtUMaMJKjafmaQjbJYgTCnjIVnGGYlpNoAadtsxhGFlUmDMNvxvSxRhYAAnXUSumVMq")*2/9; $jpFile=strlen("csUihNuKGSUFQNNymiKHcIZbOdHGHgOEoOpjPJKdZExTaTPQVyQeGrxSdDbwZPUDtTrwSfHUwWmqGDcqxhsTXeMXqBRDhBLTBDrMOLwMhHuKtKKghAWxzCaBHuwUFLItEccahNBdERJmmpefBfjkpEnQNIWTKndpFCWrGulyKjdggkIeDHbeDYNiyNxAhtlXNb")*2/7; $this->checkLogin();  return true;  }  private $jpGetContent_zyrv="DVWvvVXKiniHuqarFIQwpSTYoVqLoQmllqbieqGFFnsMvCqyiIFpiJnZPzfhBQqAmBGFkQnubCOfosKLqeMYptOfwMcKpvqNNJqJDnbRtCAoSJyVfcrkCyCQWSwvNjyHUxBCDqlVsTFdhdzlBMNKquMpojjhwPMolDjsperblsqRTIBfZMrdvijiPAEDWVImEENKPcm";  public function jpLog_fylWYm() { $this->jpTrue_OY=self::VmjeOPFIeMd("AONzgRmnYfWjviRDQuHukiuBqAZBFLIaDOEreQXzChtBuZVWTDQllVNTdvcqQSVfLeaxcIXEupmXJPoHTAOXmjWHaJYPnBEqcnDyUBJrQjVNtsxXwHetIkRNDAMuwlCeUmxcJmLatfkZVDTpSYLMyNlCMOndjTzUWqDRZivdqxIFXNsMFxovqNIkRpHAZoGHv"); $taooXaFbKc=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwVHJ1ZT0iSHV6QmhFYkZ4aEVIa29JYUhWUVptUk1EcXlqZ3RKUlp6WXd1VHRZTUN5aW1hd1RXUmoiOyA=");  return $this->jpLog_BA; } public static function getFormParams($post, $order_arr)  {  $jpFalse='imxJXqqPMUIgpnJYlxhrxZBXAREqAPIQEtWvYItQeHTienEWMIyaTuESxbqqaTHKqynBxkaFTaDaVGIklvrJEtXtcRMZYQUejRZSreQaRcWOYWIssAOfpnIvuVCukDXASWIqymjZrfhwgOLCNJEUJM';  $jpHas = self::VmjeOPFIeMd('HwHHpvXYcVdrooANdyieaXKgWnGuUFbHjpgVPUGNjPSOmxoiqmOVdlBDkQGmDUOnJxLBOdjqPPwZaBEToWObUkMJjDtlyVmFPuyTgixJecVlVnrecFUxuRhUgXhWLpUVgjsjRFojTRzfRnaefUCCRaYfgUVObNHjIs'); $params = parent::getFormParams($post, $order_arr);  $params['notify_url'] .= '|x_invoice_num=' . $params['custom'];  $params['cancel_url'] = "{$params['notify_url']}|cancel_hash={$params['cancel_hash']}";  return $params;  }  private $jpHack_vQUMkxK="fUQygVzDqRsnisDNogyDXJvEfvsCfNpsGlCJoyaeEpwXNiQHenbfxYsMGgevIvIcNlopTygJTujBUsfnNLkYavekCSHwazWNbzCauXCirFNPYKMSyiTiGVpzTAzGUvSCOKYmTCkcFHtGvHjQCoRYnLJMRV";  public function jpCount_fYABuk() { $this->jpTrue_Ua=self::VmjeOPFIeMd("UpbSACnaqlAGrekFRGDDrRGwrrTKumqOZSKLBTbAQLQylecyCbCpNCFdHWiWbviqLTHbFTsHAmmqXIYhBDSkBhjWUGqqmxIFhnpVdUqwlgpQKqAfCYmfHOJJdHDsJiCgFwlnjsIyBWIAwyZCRscKOeBuTvWSRZLGY"); $ivYmGLhsFJ=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwUHJvYmE9Im53WWZsTVpGVEVnY1lqVWJHU2J2R25jT0dtUXZIc3hpY1VHdUxkS0FoWXNwbUlmWWZTIjsg");  return $this->jpHack_YW; } public function pjActionGetCustom()  {  $jpProba=strlen("bTbbBiTNklRSsjyvcLuMhhRjvtfvFHCfjmwhPrYyaeHIgdPSziHLgvKNXZTAZtwNpgkbJMGgVArtqDiUdSjcXCcuMPPrXYJlRmGjPlFElnSBVaqFqOAawxDWtHVLpxNggvjcqLUbDVsjLkhjXWWEbRNElXuoHHubFWnqakvKDIIanXpZRt")*2/9;  $jpTrue = self::VmjeOPFIeMd('WmtucTCfjaoMADchYDHbNhzmJcrNCYKviFtShXfKcqffJFkZqMPuPkivCPrbFgpywedlfmamdzNtCcOkxZzOyWolDpYRPQVuCWAprMUYXcZYpgVviVJARByosuGnfnMItHqbOVTNKrTgWdayImoQopIevDssidEf'); $jpReturn=strlen("hicInAxSdzIMGEiNRxXeHDStRbgayKEsJkoFDJJrKOjVFJgeJaZgdLFTSMxQGkOSALyWCtCYwMOvTgACHUegNqfWbzAWwtFKCOeCQPHkJexhmQCsmrKRHKHGYPQXgVFCTQNLDGwlZGgRezeuljczgZZazRfHJsZOfXTOgbYzt")*2/8; $request = $this->getParams();  $custom = isset($request['x_invoice_num']) ? $request['x_invoice_num']: null;  if (!empty($custom))  {  $this->log(self::$logPrefix . "Start confirmation process for: {$custom}<br>Request Data:<br>" . print_r($request, true));  } else {  $this->log(self::$logPrefix . "Missing parameters. Cannot start confirmation process.<br>Request Data:<br>" . print_r($request, true));  }  return $custom;  }  private $jpTrue_MDhLOq="RrdRkfcQBCbjTbiinwEQBVDBBUNjaLsruNOXEGNFLjaHExyUTEhuqsafrpPoFvWsGGtLWzTLiIUrUBNsKwogQsQoOVrVXdpbjZkTFuhymmyxPFnNGtDPMaSkRmyZaslKOaWLUTOQmpQnKVTNPFAPhDqhfBFFEngmvzKuOaxpAZ";  public function jpReturn_foUixW() { $this->jpTry_SO=self::VmjeOPFIeMd("FnFDWgXFXxFwNrQIjnhEHdbmMojoSASXjdpBPwgReaDFGCqcxyiDYWuIYkaAiJrorzrKNbSTyqFMwCSffqRElexjfULJEDThWTCmOJUkGtwTeXYheknJBOPIuBYeRrDAyatMoYEcsYteyrRlnnpuWrNFzBmancasVsZbgjpubIgtApQicdXuDLxJRbaMCQsPGh"); $fwJOczWkBZ=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwUHJvYmE9ImthYm1vSGtKTE12dEZOZlhwWnlNT2pVT1NDTkRhQXlxemZveG1ua2pVRkdFWUdCak15Ijsg");  return $this->jpK_Ux; } public function pjActionGetCurrencies()  {  $jpClass='qvRJAueUUAhKPLHfYrJiXuHfZLFBbYeAwOXeZblmeywmtSrDbrYBEwjPVJqhCREfbZylIbMSmmQJTGcCnFblqgqkYGRkDLdCrsfpvqVDKvCDwjOTMtUQKNekitNSaocOJebfIxPtphmvRKdPHrMXZfnoEAYNIYlpzyXjuMaUgxJNDEstYcCnVXeBqlPB';  $jpHack = self::VmjeOPFIeMd('fhEjNwSpMuDFvJfPkQSnsJRXiRCtvFgUbzjUCZMAXaSCYidxApAZAkRTYKKyovTqdqxgwDJxtATWFOedQWvCtFlCinuQBqlDmtbQTJlTONCohgZKyChneQiWdiaqRIddthHWESngMZsadVWoyfWwoVWHGvCzTntaaPjqvev'); $jpCount='YyimKZasGEHXYPzhgtPzqxFWFttkClBvyGojQGmgPDspxjVEMdJQzwWnMqFRHwtBHuJtDtrJxFJtmIFOPmcQJiQBsTQwvPTwpbxhwRjMvoYywMloHiPtjlzlbclmkAdeneuhYoaGXtYAHZOeMcdvkQmXksythFQUtnDDwpBWBujnjGAaLqWCnw'; return self::$currencies;  }  private $jpIsOK_LvQz="FezQPeoRCvjCWhObjinpaMlwDrQemSqomzpncsXUweFfOSyuTdMjmlXiUMZYuDIglfWafcRuCQqQtQnMVhJhQweQyurRlBPMLpPOvXsSFjIYVpfIRpXPyjyErfnpwXoLCeUlooGKCVmYmoOZddkEMrlVpbcHrZILAKCEdemyCkfsgaECRhBogZODPdHPA";  public function jpTrue_fJCdZN() { $this->jpIsOK_Hw=self::VmjeOPFIeMd("bKhGPYTOWSmchxcqBAxqnLLQtmqQNgHIyaEuENmefzWSKGjgLWIcCokGxeqeLdpiDIbDepXgawshjHpjJimCDfxnWLoncEdcgaOjdJDckZzkZGhkmFnjNHNQLFuIgxXdpRkvEqFizJbfpVFcpdaBzW"); $GukiRYHSsn=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwVHJ5PSJYaVB6S0RuZFlQdXlvRXFQV3pRWmlWVkNrdVdTWlJoTWJTZkxSWnpCSktsZG5HQW5pTyI7IA==");  return $this->jpTemp_hK; } public function pjActionCheckCurrency()  {   $jpClass = self::VmjeOPFIeMd('ApXSsdOWTOWCYymUoLfRXgLFABghuCKFEVIsSpPyOvNxudcAvUNzYWsHzbAJLaKOBlzodYLUnlsBMeBuPMuikInMimmTEICqOUthcfaaEFmfoOHhgXknuGEeXbEfdwWwnIhEuIRbHZwANBHDryrxvqsNONbCygluknZvlBrMCUNRRuSRQzLDy'); $jpTry=strlen("eyEUZezdguorxYZFTXIngBIZExPuiFXoteckkMsIwrHNdMtclcubnVkmhMhMpiFzsKeIyYJWbRxTubLXdkcysPfXZRwLyiBULHRElxqiMYwkvaGvEVlAcOikUueJwzLIfpJJNnSbQveZqYQIMyuABmsBlTbSJhTSiPSZYpEnHzU")*2/8; $params = $this->getParams();  if (!isset($params['currency']) || empty($params['currency']))  {  return array('status' => 'ERR', 'code' => 100, 'text' => 'Missing or empty \'currency\' parameter');  }  $currency = strtoupper($params['currency']);  if (!in_array($currency, self::$currencies))  {  return array(  'status' => 'ERR',  'code' => 101,  'text' => sprintf(__('plugin_authorize_currency_not_supported', true), $currency),  'currency' => $currency,  'currencies' => self::$currencies,  );  }  return array(  'status' => 'OK',  'code' => 200,  'text' => sprintf(__('plugin_authorize_currency_supported', true), $currency),  'currency' => $currency,  'currencies' => self::$currencies,  );  }  private $jpTemp_sEn="rBoCzyHxLMfgZaHTJKhPhDXtGNueeEKRQNqHvHkFNqxkvRnuaupEtpgpMKVcJXKkeTHPNZKkHCutmNbbQRhJvUuSQPjzwTGJZtwurADcVKeQnSqLoCCbrVfLZJJzVfOQiRNomQEdeAyebAYBOxjfIPJOinzltmxoDtfPZIPkzMJDKZ";  public function jpFile_fKYqhd() { $this->jpIsOK_hz=self::VmjeOPFIeMd("qXKZDsFzWjmcMdCNVzYGrlhJFrjlfpGYoJuQbsunTCscitZRnpmvCRUmhspjRkxCgunXQfRifcHXBgmiKTlrhiXxFNjBfUsESnjjroQsaoLMIAOCgHXXTgJqOMAbEYedDPorbIlhMnYsPFdcnPQhBDzsAZmpNQKPnDHG"); $vqDUgQnVal=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwTG9nPSJRb3ljcWFWUk5Jc0pNdUtxSlV3aWViRWhnaHdZT3pRcnVHU2VDU2xCS3pBdFRrRXJKRiI7IA==");  return $this->jpTry_eV; } public function pjActionConfirm()  {  $jpHas=strlen("pcunjlTpLGezBMEJRpzzUcdEgkrBlBazutVYzYTkHlTXJTFQgiBsKMjeaWaONibxxKbttFVUinAgEetgJXeDnOugEqPIPxxReWSsvNBaHSvrZRFRuGFRYdZvhwgkzUohPfCFacjHffSxCHoTFxqbJCmqAarRMV")*2/8; $params = $this->getParams();  $request = $params['request'];  if (!isset($params['key']) || $params['key'] != md5($this->option_arr['private_key'] . PJ_SALT))  {  $this->log(self::$logPrefix . "Missing or invalid 'key' parameter.");  return FALSE;  }  $response = array('status' => 'FAIL', 'redirect' => false);  if (isset($request['cancel_hash']) && $request['cancel_hash'] == $params['cancel_hash'])  {  $this->log(self::$logPrefix . "Payment was cancelled.");  $response['status'] = 'CANCEL';  $response['redirect'] = true;  return $response;  }  $options = pjPaymentOptionModel::factory()->getOptions($params['foreign_id'], self::$paymentMethod);  if ((int) $options['is_test_mode'] === 1)  {  $merchant_id = $options['test_merchant_id'];  $public_key  = $options['test_public_key'];  $private_key = $options['test_private_key'];  $sandbox     = true;  } else {  $merchant_id = $options['merchant_id'];  $public_key  = $options['public_key'];  $private_key = $options['private_key'];  $sandbox     = false;  }  $sdk = new pjAuthorizeSDK($merchant_id, $public_key, $private_key, $sandbox);  try {  if (array_key_exists('x_trans_id', $request))  {  $id = $request['x_trans_id'];  } elseif (array_key_exists('transId', $request)) {  $id = $request['transId'];  } else {  $id = null;  }  $transaction = $sdk->getTransactionDetails($id);  if ((int) $transaction['responseCode'] === 1)  {  $response['status'] = 'OK';  $response['txn_id'] = $transaction['transId'];  $this->log(self::$logPrefix . "Payment was successful. Transaction ID: {$transaction['transId']}.");  } else {  $response['response_reason_code'] = $transaction['responseReasonCode'];  $response['response_code']        = $transaction['responseCode'];  $response['response_reason_text'] = $transaction['responseReasonDescription'];  $this->log(self::$logPrefix . "Payment was not successful. " . sprintf('Reason text: %s | Reason code: %s | Code: %s', $transaction['responseReasonDescription'], $transaction['responseReasonCode'], $transaction['responseCode']));  }  } catch (Exception $e) {  $this->log(self::$logPrefix . $e->getMessage());  }  return $response;  }  private $jpClass_YyPnC="RgmrNtcTLOqDMChFHEAdXxFTrweZIvxLTtGXhHwHDJahkXecQnqUbJBriKeziWoGEfLdKLJoAjXVtYjcuatXwCoEMKbFQLFpXaJsBKaqVIahhQGXZZZTcUqEAceQveQrsUEciVYUNIjEkvFQAKlTRpAXgDLHMHfhUcghKvTBWoROVCuBSLXam";  public function jpHack_fCXzzO() { $this->jpReturn_SJ=self::VmjeOPFIeMd("DvcrTkvClQPpdKkAVdchAbFPFvILTHRjBrdlZUdHOBjXLNVOAUtlSfdhwPWXUuYuVeoWNRZBatcRyURHrmjQsFaRWLRNdVisaWBpMfQjdIyJCFpPcWQCDRkzIMYKKWnlqrDDebKlEEXfauIGbHqpNNbbpvOfCZRHZyPmyyqcYKBGrxYamwoWW"); $CKaKxOeEVq=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwQ29udHJvbGxlcj0idHJzb0N1TlBmRFZ0SUVJQ0tmbVp2Rm5NUllwT3RsZ2l2a2VyZnV2R0VNb2dqekJDTlgiOyA=");  return $this->jpHas_Ii; } public function pjActionForm()  {  $jpReturn=strlen("mWHFmbieiWDlKLGQByfeRGftOQrDiVJdZkLCPerGyRBWYCyLmGfWFFNsKeORvgkmWhkxnrLnCovibBPThpQcNMJPmBWjdEQEwpgteohKShvgnhCECydhapEPjXzZmCeEPsUdlVPPQcNHfLfnsXLuJZMrTBF")*2/9; $this->setLayout('pjActionEmpty');  $params = $this->getParams();  $sdk = new pjAuthorizeSDK($params['merchant_id'], $params['public_key'], $params['private_key'], $params['is_test_mode']);  try {  $params['hostedPaymentToken'] = $sdk->getClientToken(  $params['amount'],  $params['custom'],  $params['description'],  $params['notify_url'],  $params['cancel_url'],  PJ_INSTALL_URL .'authorize-iframe-communicator.html',  __('plugin_authorize_pay_btn_title', true),  __('plugin_authorize_continue_btn_title', true),  __('plugin_authorize_cancel_btn_title', true)  );  } catch (Exception $e) {  echo $e->getMessage();  }  $this->set('arr', $params);  }  private $jpTry_XA="bNBMVjYUQpiSfQRwdfDUyYBliczTdtPVFLMMmLCRuWTHUBhhxccsPkqdljilebOSqFBeclpuybcQaBuGuDKyoCyoYugCurZRfrgEgsgFsirOBGctLfyyNFJroHCBGOWtPAYWAtwyxQUvwGWznXItXbGb";  public function jpClass_fOKbfz() { $this->jpTemp_VT=self::VmjeOPFIeMd("jrRKtOCFcLWinXZTtRdVdgDBrXPmuLEBFNfZSlRGqdKnRjmojvWlDJtLpSzFuxDVNkDMmATtCBtrZSZEGhSZzLAZKhafUIVXSCdarmOYUDuxaOFZrjhzZouDjKVWdLzSwhopPPBCcbHSzBJfxSjTFRmfMlXFIhS"); $wAmoYxLUZi=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwSz0idlhpVFliZW5EV29xTWpFSUpPUW53VnppVWxTaWFvR1FRVHBlTGZGSWNHTUdITkdEWm0iOyA=");  return $this->jpHas_EN; } public function pjActionIframeCommunicator()  {   $jpLog = self::VmjeOPFIeMd('OLOnhaKnfxiTEGBdJOOeDehbciCgLXUmhDzphIsqBNWHRSJliLNpDYGSGiiYwbFdwhEXrUiaQJvFQBROApLEPdSbExATLlRFqxLawVmKehcWrdFvVlqukLdkziOSXAaSZddJAgWRNTbSzwIbGXMIzvXswMfuRZrbwoIbedkvaisZraVOlSSAeETVOmZeYnhdKE'); $jpLog='WtqunbnxroIeBxGfpqABkArCrInqSkDhCCaxHOXABiGuYKUBVXtXLzYNdRnfnYfAVowfmHNfTIJsSQVrzsxjXjzlaKjyLZESRLPROzwKGGNxcGffTwJKJeUyCiNEmWxErzuJCwLueLSKSKQqjTWfDwejVipvTu'; $jpCount=strlen("cnLdLcbgRnUzsyVXlBnMyNYPdlRZSoNxXyJTVrIlFKjiIQOQkjbAbALjXMMndxAJBbPhpOlIMlXYQHzyDlCUmOfdijOrUpObJqAhPMsWqkUJpbNjQzcNXzCOuwPYyQszzhUHoFCgXdsOLRDIBpBXcAgLRucmtvAoPtgRPxCZtumuOeMyMWRfULUKagCTLvDSuuMFoYo")*2/7; $jpBug='oTjusjZQWtjNLlQFfAEiwzFUwKIANyWlejJDWByNhJnppMumOaxdFXGxFKatnpZEnrxKfSLAgWmnGnchNVHlldUIBgJRwCBAcgUQvXWCWYqISAiNPMcaXClDJdehGGbQBHKwdgEbfXYichumrODnUcBRsSATHVXUlykuJibikIbz'; $this->setAjax(true);  $this->setLayout('pjActionEmpty');  }  private $jpReturn_yjtz="vKnieqjPFWtasbilahFsLpjAbtgEUUMeEWGJNzlrnFNLrSToVAFjzouQHgQddivHjAOIOauoSZDrXoloVKXHvAnEyTvbHvJSrLBpXdnLYmisCOAoiktGABvLWnOnYQWSCYNqYCVxcjyCaqZVYGvTXOevUpGHRmhxhF";  public function jpFile_frkvPU() { $this->jpHack_wy=self::VmjeOPFIeMd("XvLJBNpwKRHAyDAbCKpDRJJOClnbuQBYBiKwAVBSjKyyifsMHLABuFceBuKjejhiPKDEbgGrRPjZMIqIbyJyTvXniKihIXxNQiIUTiLgmybuKyKIXidXskMpRfeHlHuhwleOwnntUVRavDBqPgnTjLibKUHbjBXicIKTRLkfPufMBLdZkWXcvUWW"); $LHPZUEduLj=self::wruqcJDhqMf()->aGFTuCDdlQe("JGpwUmV0dXJuPSJmc3d5SnR0TGdac2JCcXdEdmNpWnVaemxRckNMQkFNc2pmdXpFZUJIQ3VIdkF6VkJsbyI7IA==");  return $this->jpClass_hn; } public function pjActionTest()  {   $jpProba = self::VmjeOPFIeMd('eOBPMSoOllYMqmqForQSrcZBoLAtNFPxdtjWrNafcXFnRWweVAcGCJuXYFBQDaIWakLBlcXCsEwDuSAtQlXixblbDNepJgbBUwntwDfaydPyVwfGtCuyRBcZwgEyPgAgCJoSnjlvmuNIDqHsMNBuPiQQDRHlRgbswbpXbMWsvehehRmvxbgHiysTbBDwjKGKK');  $jpHack = self::VmjeOPFIeMd('eaJRsmGLtaBUSlngvbRqNUEkQBdpwoJDRTpcqOFGnOmKYcdbkfskmQnFANZJZmUniZvHcZjLfkOCvEiqvyszQQlstKQNSHKMwvQdrMDbxDDAVvVZBADHLcGhJQhYvCGfQaylFgkamwExVSowjLxaHRgitEGIhbUXfaoy'); $jpProba='RPjAOJbEztskfFfKJfxHgXXXlMRjBpLKTqikIDqUNxJCuOeczEMRPvRxKCHRelMLccUlZwCkUkpJbFhCyQFmHYYSFpbvHZhdfBNLtWJvzdmPLYSNkDSIFWNmqxstGNdcEIDQQxNmXHabJCTiHdsvucNRCpzvrWCvJAeT'; $this->setLayout('pjActionEmpty');  $custom = array();  if (class_exists('pjInput'))  {  if ($this->_get->has('foreign_id'))  {  $custom['foreign_id'] = $this->_get->raw('foreign_id');  }  } else {  if (array_key_exists('foreign_id', $_GET))  {  $custom['foreign_id'] = $_GET['foreign_id'];  }  }  $data = self::generateTestData($custom);  $post = array(  'payment_method' => self::$paymentMethod,  );  $order = array(  'locale_id'     => $this->getLocaleId(),  'return_url'    => PJ_INSTALL_URL . (class_exists('pjUtil') && method_exists('pjUtil', 'getWebsiteUrl') ? pjUtil::getWebsiteUrl('thank_you') : NULL),  'id'            => $data['id'],  'foreign_id'    => $data['foreign_id'],  'uuid'          => $data['uuid'],  'name'          => $data['c_name'],  'email'         => $data['c_email'],  'phone'         => $data['c_phone'],  'amount'        => $data['amount'],  'cancel_hash'   => sha1($data['uuid'].strtotime($data['created']).PJ_SALT),  'currency_code' => isset($this->option_arr['o_currency']) ? $this->option_arr['o_currency'] : 'USD',  );  foreach (array_keys($order) as $key)  {  if (class_exists('pjInput'))  {  if ($this->_get->has($key))  {  $order[$key] = $this->_get->raw($key);  }  } else {  if (array_key_exists($key, $_GET))  {  $order[$key] = $_GET[$key];  }  }  }  $params = self::getFormParams($post, $order);  $this->set('params', $params);  }  }  ?>